var u=Object.defineProperty;var c=(s,t,e)=>t in s?u(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var r=(s,t,e)=>c(s,typeof t!="symbol"?t+"":t,e);const l="http://localhost:8000";class h{constructor(t=l){r(this,"baseURL");r(this,"defaultHeaders");r(this,"token",null);this.baseURL=t,this.defaultHeaders={"Content-Type":"application/json",Accept:"application/json"},this.token=localStorage.getItem("auth_token"),this.token&&this.setAuthToken(this.token)}setAuthToken(t){this.token=t,localStorage.setItem("auth_token",t),this.defaultHeaders={...this.defaultHeaders,Authorization:`Bearer ${t}`}}clearAuthToken(){this.token=null,localStorage.removeItem("auth_token");const{Authorization:t,...e}=this.defaultHeaders;this.defaultHeaders=e}async request(t,e={}){try{const i=`${this.baseURL}${t}`,n=await fetch(i,{...e,headers:{...this.defaultHeaders,...e.headers}}),o=await n.json();return n.ok?{success:!0,data:o}:{success:!1,error:o.detail||o.error||`HTTP ${n.status}`}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Network error"}}}async get(t){return this.request(t,{method:"GET"})}async post(t,e){return this.request(t,{method:"POST",body:e?JSON.stringify(e):void 0})}async put(t,e){return this.request(t,{method:"PUT",body:e?JSON.stringify(e):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const a=new h;class m{static async runSimulation(t){return a.post("/api/simulation/run",t)}static async getSimulationStatus(t){return a.get(`/api/simulation/status/${t}`)}static async getSimulationResults(t){return a.get(`/api/simulation/results/${t}`)}static async getCapabilities(){return a.get("/api/simulation/capabilities")}static async getSimulationHistory(t=10){return a.get(`/api/simulation/history?limit=${t}`)}}export{h as ApiClient,m as SimulationService,a as apiClient};
